/*!
 * term-web.js v1.0.4
 * Github: https://github.com/zhw2590582/term-web#readme
 * (c) 2017-2020 Harvey Zack
 * Released under the MIT License.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Term=e()}(this,function(){"use strict";var x=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t};var w=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};var i=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t},s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}var n=t(function(e){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(t){return typeof t}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.exports=n});var a=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?i(t):e},c=t(function(e){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}e.exports=n}),u=t(function(n){function r(t,e){return n.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}n.exports=r});var e=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)},L=t(function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return t.constructor?t.constructor.name:null}function c(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:["option"];return u(t,e,n),h(t,e,n),function(o,s,a){var t=l(s),e=l(o);if("object"===t){if("object"!==e)throw new Error("[Type Error]: '".concat(a.join("."),"' require 'object' type, but got '").concat(e,"'"));Object.keys(s).forEach(function(t){var e=o[t],n=s[t],r=a.slice();r.push(t),u(e,n,r),h(e,n,r),c(e,n,r)})}if("array"===t){if("array"!==e)throw new Error("[Type Error]: '".concat(a.join("."),"' require 'array' type, but got '").concat(e,"'"));o.forEach(function(t,e){var n=o[e],r=s[e]||s[0],i=a.slice();i.push(e),u(n,r,i),h(n,r,i),c(n,r,i)})}}(t,e,n),t}function u(t,e,n){if("string"===l(e)){var r=l(t);if(!(-1<e.indexOf("|")?e.split("|").map(function(t){return t.toLowerCase().trim()}).filter(Boolean).some(function(t){return r===t}):e.toLowerCase().trim()===r))throw new Error("[Type Error]: '".concat(n.join("."),"' require '").concat(e,"' type, but got '").concat(r,"'"))}}function h(t,e,n){if("function"===l(e)){var r=e(t,l(t),n);if(!0!==r){var i=l(r);throw"string"===i?new Error(r):"error"===i?r:new Error("[Validator Error]: The scheme for '".concat(n.join("."),"' validator require return true, but got '").concat(r,"'"))}}}var o,l;t.exports=(o=Object.prototype.toString,c.kindOf=l=function(t){if(void 0===t)return"undefined";if(null===t)return"null";var e,n=r(t);if("boolean"===n)return"boolean";if("string"===n)return"string";if("number"===n)return"number";if("symbol"===n)return"symbol";if("function"===n)return"GeneratorFunction"===i(t)?"generatorfunction":"function";if(e=t,Array.isArray?Array.isArray(e):e instanceof Array)return"array";if(t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))return"buffer";if(function(t){try{if("number"==typeof t.length&&"function"==typeof t.callee)return 1}catch(t){if(-1!==t.message.indexOf("callee"))return 1}}(t))return"arguments";if(t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate)return"date";if(t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit)return"error";if(t instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global)return"regexp";switch(i(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if("function"==typeof t.throw&&"function"==typeof t.return&&"function"==typeof t.next)return"generator";switch(n=o.call(t)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return n.slice(8,-1).toLowerCase().replace(/\s/g,"")},c)}),h=function(){function t(){w(this,t)}return o(t,[{key:"on",value:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this}},{key:"once",value:function(r,i,o){var s=this;function a(){s.off(r,a);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.apply(o,e)}return a._=i,this.on(r,a,o)}},{key:"emit",value:function(t){for(var e=((this.e||(this.e={}))[t]||[]).slice(),n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<e.length;o+=1)e[o].fn.apply(e[o].ctx,r);return this}},{key:"off",value:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,s=r.length;o<s;o+=1)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}}]),t}(),l=t(function(t){var e,n;e=window,n=function(){function v(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var n="undefined"==typeof console?function(){}:function(t){console.error(t)},y=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],b=y.length;function x(t){var e=getComputedStyle(t);return e||n("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var w,E=!1;function S(t){if(!function(){if(!E){E=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var e=document.body||document.documentElement;e.appendChild(t);var n=x(t);w=200==Math.round(v(n.width)),S.isBoxSizeOuter=w,e.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=x(t);if("none"==e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<b;e++){t[y[e]]=0}return t}();var n={};n.width=t.offsetWidth,n.height=t.offsetHeight;for(var r=n.isBorderBox="border-box"==e.boxSizing,i=0;i<b;i++){var o=y[i],s=e[o],a=parseFloat(s);n[o]=isNaN(a)?0:a}var c=n.paddingLeft+n.paddingRight,u=n.paddingTop+n.paddingBottom,h=n.marginLeft+n.marginRight,l=n.marginTop+n.marginBottom,d=n.borderLeftWidth+n.borderRightWidth,f=n.borderTopWidth+n.borderBottomWidth,p=r&&w,g=v(e.width);!1!==g&&(n.width=g+(p?0:c+d));var m=v(e.height);return!1!==m&&(n.height=m+(p?0:u+f)),n.innerWidth=n.width-(c+d),n.innerHeight=n.height-(u+f),n.outerWidth=n.width+h,n.outerHeight=n.height+l,n}}return S},t.exports?t.exports=n():e.getSize=n()}),d=t(function(t){var e,n;e="undefined"!=typeof window?window:s,n=function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},r=n[t]=n[t]||[];return-1==r.indexOf(e)&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=n.indexOf(e);return-1!=r&&n.splice(r,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var r=this._onceEvents&&this._onceEvents[t],i=0;i<n.length;i++){var o=n[i];r&&r[o]&&(this.off(t,o),delete r[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t},t.exports?t.exports=n():e.EvEmitter=n()}),f=t(function(t){var e,n;e=window,n=function(i,t){function e(){}var n=e.prototype=Object.create(t.prototype);n.bindStartEvent=function(t){this._bindStartEvent(t,!0)},n.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},n._bindStartEvent=function(t,e){var n=(e=void 0===e||e)?"addEventListener":"removeEventListener",r="mousedown";i.PointerEvent?r="pointerdown":"ontouchstart"in i&&(r="touchstart"),t[n](r,this)},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.getTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},n.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},n.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},n.onpointerdown=function(t){this._pointerDown(t,t)},n._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},n.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return n._bindPostStartEvents=function(t){if(t){var e=r[t.type];e.forEach(function(t){i.addEventListener(t,this)},this),this._boundPointerEvents=e}},n._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){i.removeEventListener(t,this)},this),delete this._boundPointerEvents)},n.onmousemove=function(t){this._pointerMove(t,t)},n.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},n.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},n._pointerMove=function(t,e){this.pointerMove(t,e)},n.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},n.onmouseup=function(t){this._pointerUp(t,t)},n.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},n.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},n._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},n._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},n._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},n.pointerDone=function(){},n.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},n.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},n._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},n.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},e.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},e},t.exports?t.exports=n(e,d):e.Unipointer=n(e,e.EvEmitter)}),p=t(function(t){var e,n;e=window,n=function(o,t){function e(){}var n=e.prototype=Object.create(t.prototype);n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(t){for(var e=(t=void 0===t||t)?"addEventListener":"removeEventListener",n=t?this._touchActionValue:"",r=0;r<this.handles.length;r++){var i=this.handles[r];this._bindStartEvent(i,t),i[e]("click",this),o.PointerEvent&&(i.style.touchAction=n)}},n._touchActionValue="none",n.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var i={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},s={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return n.okayPointerDown=function(t){var e=i[t.target.nodeName],n=s[t.target.type],r=!e||n;return r||this._pointerReset(),r},n.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},n.pointerMove=function(t,e){var n=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,n]),this._dragMove(t,e,n)},n._dragPointerMove=function(t,e){var n={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(t,e),n},n.hasDragStarted=function(t){return 3<Math.abs(t.x)||3<Math.abs(t.y)},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},n._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},n._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},n.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},n._dragMove=function(t,e,n){this.isDragging&&this.dragMove(t,e,n)},n.dragMove=function(t,e,n){t.preventDefault(),this.emitEvent("dragMove",[t,e,n])},n._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},n.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},n.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},n._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},n.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},e.getPointerPoint=t.getPointerPoint,e},t.exports?t.exports=n(e,f):e.Unidragger=n(e,e.Unipointer)}),E=t(function(t){var e,n;e=window,n=function(o,c,t){function n(t,e){for(var n in e)t[n]=e[n];return t}var r=o.jQuery;function e(t,e){this.element="string"==typeof t?document.querySelector(t):t,r&&(this.$element=r(this.element)),this.options=n({},this.constructor.defaults),this.option(e),this._create()}var i=e.prototype=Object.create(t.prototype);e.defaults={},i.option=function(t){n(this.options,t)};var s={relative:!0,absolute:!0,fixed:!0};function u(t,e,n){return n=n||"round",e?Math[n](t/e)*e:t}return i._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=n({},this.position);var t=getComputedStyle(this.element);s[t.position]||(this.element.style.position="relative"),this.on("pointerDown",this.onPointerDown),this.on("pointerMove",this.onPointerMove),this.on("pointerUp",this.onPointerUp),this.enable(),this.setHandles()},i.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},i.dispatchEvent=function(t,e,n){var r=[e].concat(n);this.emitEvent(t,r),this.dispatchJQueryEvent(t,e,n)},i.dispatchJQueryEvent=function(t,e,n){var r=o.jQuery;if(r&&this.$element){var i=r.Event(e);i.type=t,this.$element.trigger(i,n)}},i._getPosition=function(){var t=getComputedStyle(this.element),e=this._getPositionCoord(t.left,"width"),n=this._getPositionCoord(t.top,"height");this.position.x=isNaN(e)?0:e,this.position.y=isNaN(n)?0:n,this._addTransformPosition(t)},i._getPositionCoord=function(t,e){if(-1==t.indexOf("%"))return parseInt(t,10);var n=c(this.element.parentNode);return n?parseFloat(t)/100*n[e]:0},i._addTransformPosition=function(t){var e=t.transform;if(0===e.indexOf("matrix")){var n=e.split(","),r=0===e.indexOf("matrix3d")?12:4,i=parseInt(n[r],10),o=parseInt(n[1+r],10);this.position.x+=i,this.position.y+=o}},i.onPointerDown=function(t,e){this.element.classList.add("is-pointer-down"),this.dispatchJQueryEvent("pointerDown",t,[e])},i.dragStart=function(t,e){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",t,[e]),this.animate())},i.measureContainment=function(){var t=this.getContainer();if(t){var e=c(this.element),n=c(t),r=this.element.getBoundingClientRect(),i=t.getBoundingClientRect(),o=n.borderLeftWidth+n.borderRightWidth,s=n.borderTopWidth+n.borderBottomWidth,a=this.relativeStartPosition={x:r.left-(i.left+n.borderLeftWidth),y:r.top-(i.top+n.borderTopWidth)};this.containSize={width:n.width-o-a.x-e.width,height:n.height-s-a.y-e.height}}},i.getContainer=function(){var t=this.options.containment;if(t)return t instanceof HTMLElement?t:"string"==typeof t?document.querySelector(t):this.element.parentNode},i.onPointerMove=function(t,e,n){this.dispatchJQueryEvent("pointerMove",t,[e,n])},i.dragMove=function(t,e,n){if(this.isEnabled){var r=n.x,i=n.y,o=this.options.grid,s=o&&o[0],a=o&&o[1];r=u(r,s),i=u(i,a),r=this.containDrag("x",r,s),i=this.containDrag("y",i,a),r="y"==this.options.axis?0:r,i="x"==this.options.axis?0:i,this.position.x=this.startPosition.x+r,this.position.y=this.startPosition.y+i,this.dragPoint.x=r,this.dragPoint.y=i,this.dispatchEvent("dragMove",t,[e,n])}},i.containDrag=function(t,e,n){if(!this.options.containment)return e;var r="x"==t?"width":"height",i=u(-this.relativeStartPosition[t],n,"ceil"),o=this.containSize[r];return o=u(o,n,"floor"),Math.max(i,Math.min(o,e))},i.onPointerUp=function(t,e){this.element.classList.remove("is-pointer-down"),this.dispatchJQueryEvent("pointerUp",t,[e])},i.dragEnd=function(t,e){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",t,[e]))},i.animate=function(){if(this.isDragging){this.positionDrag();var t=this;requestAnimationFrame(function(){t.animate()})}},i.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},i.positionDrag=function(){this.element.style.transform="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},i.staticClick=function(t,e){this.dispatchEvent("staticClick",t,[e])},i.setPosition=function(t,e){this.position.x=t,this.position.y=e,this.setLeftTop()},i.enable=function(){this.isEnabled=!0},i.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},i.destroy=function(){this.disable(),this.element.style.transform="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},i._init=function(){},r&&r.bridget&&r.bridget("draggabilly",e),e},t.exports?t.exports=n(e,l,p):e.Draggabilly=n(e,e.getSize,e.Unidragger)});function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var g=function(){function b(n){var t=this;w(this,b),this.destroyEvents=[],this.proxy=this.proxy.bind(this);var e=n.options,r=e.recorder,i=e.draggable,o=e.dragOpt,s=n.template,a=s.$recorder,c=s.$recorderSize,u=s.$recorderDuration,h=s.$recorderBtn,l=n.template,d=l.$container,f=l.$textarea,p=l.$main,g=l.$scrollbar,m=l.$header,v=l.$footer;this.proxy(document,["click","contextmenu"],function(t){t.composedPath&&-1<t.composedPath().indexOf(p)?(n.isFocus=!0,n.emit("focus")):(n.isFocus=!1,n.emit("blur"))}),i&&(this.draggie=new E(d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({handle:".term-header"},o)),n.on("destroy",function(){t.draggie.destroy()})),this.proxy(f,"input",function(){n.emit("input",f.value.trim())}),this.proxy(f,"paste",function(){n.emit("input",f.value.trim())}),this.proxy(f,"keydown",function(t){var e=t.keyCode;13===e&&setTimeout(function(){n.emit("enter",f.value.trim()),f.value=""}),[37,38,39,40].includes(e)&&(f.blur(),setTimeout(function(){return f.focus()})),n.emit("keydown",t)});var y=!1;this.proxy(p,"scroll",function(){y?n.drawer.renderByTop(p.scrollTop):y=!0}),this.proxy(h,"click",function(){n.recorder.recording?n.recorder.end():n.recorder.start()}),n.on("scroll",function(t){var e=t.scrollHeight,n=t.scrollTop;g.style.height="".concat(e,"px"),y=!1,p.scrollTo(0,n)}),n.on("cursor",function(t){var e=t.left,n=t.top;f.style.top="".concat(n,"px"),f.style.left="".concat(e,"px")}),n.on("size",function(t){var e=t.header,n=t.main,r=t.bottom;m.style.height="".concat(e,"px"),v.style.height="".concat(r,"px"),p.style.top="".concat(e,"px"),p.style.height="".concat(n,"px")}),n.on("focus",function(){f.focus()}),n.on("start",function(){r&&a.classList.add("recording")}),n.on("recording",function(t){var e=t.size,n=t.duration;r&&(c.innerText="".concat(Math.floor(e/1024)||0,"kb"),u.innerText="".concat(n||0,"s"))}),n.on("end",function(){r&&a.classList.remove("recording")})}return o(b,[{key:"proxy",value:function(e,t,n,r){var i=this,o=3<arguments.length&&void 0!==r?r:{};Array.isArray(t)?t.forEach(function(t){return i.proxy(e,t,n,o)}):(e.addEventListener(t,n,o),this.destroyEvents.push(function(){e.removeEventListener(t,n,o)}))}},{key:"destroy",value:function(){this.destroyEvents.forEach(function(t){return t()})}}]),b}();var m=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")};var v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}},y=t(function(r){function i(t,e,n){return v()?r.exports=i=Reflect.construct:r.exports=i=function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&u(i,n.prototype),i},i.apply(null,arguments)}r.exports=i});function b(r){return function(){var t,e=c(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return a(this,t)}}var _=function(t){e(r,t);var n=b(r);function r(t){var e;return w(this,r),(e=n.call(this,t)).name="TermError",e}return r}(t(function(e){function r(t){var n="function"==typeof Map?new Map:void 0;return e.exports=r=function(t){if(null===t||!m(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return y(t,arguments,c(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),u(e,t)},r(t)}e.exports=r})(Error));function k(t,e){if(!t)throw new _(e);return t}function P(t,e){var n=document.createElement("a");n.style.display="none",n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function R(t){return t.replace(/[&<>'"]/g,function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[t]||t})}var O=Object.freeze({__proto__:null,TermError:_,errorHandle:k,download:P,escape:R,unescape:function(t){return t.replace(/&amp;|&lt;|&gt;|&#39;|&quot;/g,function(t){return{"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'}[t]||t})}}),$=function(){function f(t){var e=this;w(this,f);var n=(this.term=t).options,r=n.container,i=n.fontFamily,o=n.fontSize,s=n.fontColor,a=n.pixelRatio,c=n.width,u=n.height,h=n.borderRadius,l=n.boxShadow,d=n.recorder;this.$container=r,"string"==typeof t.options.container&&(this.$container=document.querySelector(t.options.container)),k(t.constructor.instances.every(function(t){return t.template.$container!==e.$container}),"Cannot mount multiple instances on the same dom element, please destroy the previous instance first."),this.$container.classList.add("term-container"),this.$container.style.width="".concat(c,"px"),this.$container.style.height="".concat(u,"px"),this.$canvas=document.createElement("canvas"),this.$canvas.classList.add("term-canvas"),this.$canvas.width=c*a,this.$canvas.height=u*a,this.$container.appendChild(this.$canvas),this.$header=document.createElement("div"),this.$header.classList.add("term-header"),this.$container.appendChild(this.$header),this.$main=document.createElement("div"),this.$main.classList.add("term-main"),this.$container.appendChild(this.$main),this.$scrollbar=document.createElement("div"),this.$scrollbar.classList.add("term-scrollbar"),this.$scrollbar.style.height="0",this.$main.appendChild(this.$scrollbar),this.$footer=document.createElement("div"),this.$footer.classList.add("term-footer"),this.$container.appendChild(this.$footer),this.$textarea=document.createElement("textarea"),this.$textarea.classList.add("term-textarea"),this.$container.appendChild(this.$textarea),d&&(this.$recorder=document.createElement("div"),this.$recorder.classList.add("term-recorder"),this.$recorder.innerHTML='<div class="term-recorder-size"></div><div class="term-recorder-duration"></div><div class="term-recorder-btn"></div> \n            ',this.$recorderSize=this.$recorder.querySelector(".term-recorder-size"),this.$recorderDuration=this.$recorder.querySelector(".term-recorder-duration"),this.$recorderBtn=this.$recorder.querySelector(".term-recorder-btn"),this.$header.appendChild(this.$recorder)),document.getElementById("term-ui-style")||(this.$style=document.createElement("style"),this.$style.id="term-ui-style",this.$style.textContent=[".term-container{font-family:".concat(i,";font-size:").concat(o,"px;color:").concat(s,";position:relative;}"),".term-container ::-webkit-scrollbar{width:5px;}",".term-container ::-webkit-scrollbar-thumb{background-color:#666;border-radius:5px;}",".term-container ::-webkit-scrollbar-thumb:hover{background-color:#ccc;}",".term-canvas{width:100%;height:100%;border-radius:".concat(h,"px;box-shadow:").concat(l,";}"),".term-textarea{position:absolute;width:20px;height:20px;opacity:0;pointer-events:none;user-select:none;}",".term-main{position:absolute;width:100%;right:0;left:0; overflow: auto;}",".term-main:hover{cursor:text}",".term-recorder{display:flex;align-items:center;position:absolute;right:10px;top:10px;}",".term-recorder-size, .term-recorder-duration{display:none;margin-right:10px;}",".term-recorder-btn{height:18px;width:18px;background:#F44336;border-radius:3px;cursor:pointer;}",".term-recorder.recording .term-recorder-btn{background:#FFC107;}",".term-recorder.recording .term-recorder-size{display:block;}",".term-recorder.recording .term-recorder-duration{display:block;}",".term-header{position:absolute;width:100%;top:0;left:0;right:0;}",".term-footer{position:absolute;width:100%;bottom:0;left:0;right:0;}",".is-dragging.term-container{opacity:.95};"].join(""),document.head.appendChild(this.$style))}return o(f,[{key:"destroy",value:function(){this.$container.innerHTML="",this.term.constructor.instances.length||document.head.removeChild(this.$style)}}]),f}();var C=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r};var T=function(t){if(Array.isArray(t))return C(t)};var D=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)};var j=function(t,e){if(t){if("string"==typeof t)return C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(t,e):void 0}};var M=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};function A(t,e){var s={bools:{},strings:{},unknownFn:null};"function"==typeof(e=e||{}).unknown&&(s.unknownFn=e.unknown),"boolean"==typeof e.boolean&&e.boolean?s.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(t){s.bools[t]=!0});var a={};Object.keys(e.alias||{}).forEach(function(t){a[t]=[].concat(e.alias[t]),a[t].forEach(function(e){a[e]=[t].concat(a[t].filter(function(t){return e!==t}))})}),[].concat(e.string).filter(Boolean).forEach(function(t){s.strings[t]=!0,a[t]&&(s.strings[a[t]]=!0)});var i=e.default||{},c={_:[]};Object.keys(s.bools).forEach(function(t){r(t,void 0!==i[t]&&i[t])});var n=[];function r(t,e,n){if(!n||!s.unknownFn||(r=t,i=n,s.allBools&&/^--[^=]+$/.test(i)||s.strings[r]||s.bools[r]||a[r])||!1!==s.unknownFn(n)){var r,i,o=!s.strings[t]&&H(e)?Number(e):e;u(c,t.split("."),o),(a[t]||[]).forEach(function(t){u(c,t.split("."),o)})}}function u(t,e,n){for(var r=t,i=0;i<e.length-1;i++){if("__proto__"===(o=e[i]))return;void 0===r[o]&&(r[o]={}),r[o]!==Object.prototype&&r[o]!==Number.prototype&&r[o]!==String.prototype||(r[o]={}),r[o]===Array.prototype&&(r[o]=[]),r=r[o]}var o;"__proto__"!==(o=e[e.length-1])&&(r!==Object.prototype&&r!==Number.prototype&&r!==String.prototype||(r={}),r===Array.prototype&&(r=[]),void 0===r[o]||s.bools[o]||"boolean"==typeof r[o]?r[o]=n:Array.isArray(r[o])?r[o].push(n):r[o]=[r[o],n])}function o(t){return a[t].some(function(t){return s.bools[t]})}-1!==t.indexOf("--")&&(n=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var h=0;h<t.length;h++){var l=t[h];if(/^--.+=/.test(l)){var d=l.match(/^--([^=]+)=([\s\S]*)$/),f=d[1],p=d[2];s.bools[f]&&(p="false"!==p),r(f,p,l)}else if(/^--no-.+/.test(l)){r(f=l.match(/^--no-(.+)/)[1],!1,l)}else if(/^--.+/.test(l)){f=l.match(/^--(.+)/)[1];void 0===(y=t[h+1])||/^-/.test(y)||s.bools[f]||s.allBools||a[f]&&o(f)?/^(true|false)$/.test(y)?(r(f,"true"===y,l),h++):r(f,!s.strings[f]||"",l):(r(f,y,l),h++)}else if(/^-[^-]+/.test(l)){for(var g=l.slice(1,-1).split(""),m=!1,v=0;v<g.length;v++){var y;if("-"!==(y=l.slice(v+2))){if(/[A-Za-z]/.test(g[v])&&/=/.test(y)){r(g[v],y.split("=")[1],l),m=!0;break}if(/[A-Za-z]/.test(g[v])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(y)){r(g[v],y,l),m=!0;break}if(g[v+1]&&g[v+1].match(/\W/)){r(g[v],l.slice(v+2),l),m=!0;break}r(g[v],!s.strings[g[v]]||"",l)}else r(g[v],y,l)}f=l.slice(-1)[0];m||"-"===f||(!t[h+1]||/^(-|--)[^-]/.test(t[h+1])||s.bools[f]||a[f]&&o(f)?t[h+1]&&/^(true|false)$/.test(t[h+1])?(r(f,"true"===t[h+1],l),h++):r(f,!s.strings[f]||"",l):(r(f,t[h+1],l),h++))}else if(s.unknownFn&&!1===s.unknownFn(l)||c._.push(s.strings._||!H(l)?l:Number(l)),e.stopEarly){c._.push.apply(c._,t.slice(h+1));break}}return Object.keys(i).forEach(function(e){var t,n,r;t=c,n=e.split("."),r=t,n.slice(0,-1).forEach(function(t){r=r[t]||{}}),n[n.length-1]in r||(u(c,e.split("."),i[e]),(a[e]||[]).forEach(function(t){u(c,t.split("."),i[e])}))}),e["--"]?(c["--"]=new Array,n.forEach(function(t){c["--"].push(t)})):n.forEach(function(t){c._.push(t)}),c}var z=function(t){return T(t)||D(t)||j(t)||M()},F="input",B="output",U={videoBitsPerSecond:5e6,mimeType:"video/webm"},I=function(){function e(t){w(this,e),this.term=t,this.span=document.createElement("span")}return o(e,[{key:"decode",value:function(t){if(!t)return[];L(t,{type:function(t){return!![F,B].includes(t)||'The type must be "'.concat(F,'" or "').concat(B,'"')},text:"string",color:"undefined|string",replace:"undefined|boolean"});var e=this.term,n=e.drawer,r=n.ctx,i=n.width,o=n.padding,s=e.options,a=s.prefix,c=s.fontColor;t.type===F&&(t.text=a+R(t.text));for(var u=[],h=t.text.split(/\r?\n/),l=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,d=0,f=o[3],p=0;p<h.length;p+=1){var g=h[p];this.span.innerHTML=g.replace(l,"");for(var m=0;m<this.span.childNodes.length;m+=1){var v=this.span.childNodes[m],y=v.textContent,b=r.measureText(y).width,x=v.getAttribute&&v.getAttribute("color")||c,w=f+b;if(i<w){for(var E="",S=!1,_=f,k=z(y),P=0;P<k.length;P+=1){var O=k[P],$=r.measureText(O).width,C=f+$;if(C<i)E+=O,f=C;else{var T={width:r.measureText(E).width,left:S?o[3]:_,text:E,color:x};u[d]?u[d].push(T):u[d]=[T],d+=1,E=O,S=!0,f=o[3]+$}}var D={width:r.measureText(E).width,left:o[3],text:E,color:x};u[d]?u[d].push(D):u[d]=[D]}else{var j={width:b,text:y,left:f,color:x};u[d]?u[d].push(j):u[d]=[j],f=w}}d+=1,f=o[3]}return u}}]),e}(),W=function(){function u(t){w(this,u);var e=(this.term=t).options,n=e.pixelRatio,r=e.fontSize,i=e.fontFamily,o=e.backgroundColor;this.gap=10*n,this.fontSize=r*n,this.padding=[45,15,15,15].map(function(t){return t*n}),this.cursorColor=["#FFF",o],this.btnColor=["#FF5F56","#FFBD2E","#27C93F"],this.btnSize=6*n,this.$canvas=t.template.$canvas;var s=this.$canvas,a=s.width,c=s.height;this.height=c-this.padding[0]-this.padding[2],this.width=a-this.padding[1]-this.padding[3],this.totalLine=Math.floor(this.height/(this.fontSize+this.gap)),this.ctx=this.$canvas.getContext("2d"),this.ctx.font="".concat(this.fontSize,"px ").concat(i),this.ctx.textBaseline="top",this.inputs=[],this.logs=[],this.renderLogs=[],this.term.emit("size",{header:this.padding[0]/n,main:this.height/n,bottom:this.padding[2]/n}),this.draw(),this.draw=this.draw.bind(this),this.cursor=!1,function t(){var e=this;this.timer=setTimeout(function(){e.cursor=!e.cursor,e.drawCursor(),t.call(e)},500)}.call(this)}return o(u,[{key:"draw",value:function(t,e){return this.drawBackground(),this.drawTopbar(),this.drawContent(t,e),this}},{key:"drawBackground",value:function(){var t=this.term.options.backgroundColor,e=this.$canvas,n=e.width,r=e.height;this.ctx.clearRect(0,0,n,r),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,n,r)}},{key:"drawTopbar",value:function(){var n=this,t=this.term.options,e=t.title,r=t.fontColor;this.ctx.fillStyle=r;var i=this.ctx.measureText(e).width;this.ctx.fillText(e,this.$canvas.width/2-i/2,this.padding[1]-this.btnSize/2),this.btnColor.forEach(function(t,e){n.ctx.beginPath(),n.ctx.arc(n.padding[3]+n.btnSize+e*n.btnSize*3.6,n.padding[1]+n.btnSize,n.btnSize,0,360,!1),n.ctx.fillStyle=t,n.ctx.fill(),n.ctx.closePath()})}},{key:"drawContent",value:function(e,t){var n=this;if(e){if(e.replace){var r=this.inputs[this.inputs.length-1];r&&(this.logs=this.logs.filter(function(t){return t.input!==r}))}this.inputs.push(e),this.term.decoder.decode(e).forEach(function(t){t.input=e,n.logs.push(t)})}if("number"==typeof t){var i=this.logs.slice(t,t+this.totalLine);this.render(i)}else{var o=this.logs.slice(-this.totalLine);this.render(o)}}},{key:"renderByTop",value:function(t){var e=this.term.options.pixelRatio,n=Math.ceil(t*e/(this.fontSize+this.gap));this.draw(null,n)}},{key:"render",value:function(t){var e=this.term.options.pixelRatio;this.renderLogs=t;for(var n=0;n<t.length;n+=1){var r=t[n];if(r)for(var i=0;i<r.length;i+=1){var o=r[i];this.ctx.fillStyle=o.color;var s=this.padding[0]+(this.fontSize+this.gap)*n;this.ctx.fillText(o.text,o.left,s)}}var a=this.cursorPos,c=a.left,u=a.top;if(this.term.emit("cursor",{left:c/e,top:u/e}),this.logs[this.logs.length-1]===this.renderLogs[this.renderLogs.length-1]){this.scrollHeight=this.logs.length*(this.fontSize+this.gap)/e;var h=this.renderLogs[this.renderLogs.length-1],l=this.logs.indexOf(h);this.scrollTop=((l+1)*(this.fontSize+this.gap)-this.height)/e,this.term.emit("scroll",{scrollHeight:this.scrollHeight,scrollTop:this.scrollTop})}}},{key:"drawCursor",value:function(){var t=this.cursorPos,e=t.left,n=t.top,r=this.term.options.pixelRatio;this.renderEditable&&(this.ctx.fillStyle=this.cursor?this.cursorColor[0]:this.cursorColor[1],this.ctx.fillRect(e,n,5*r,this.fontSize))}},{key:"editable",get:function(){var t=this.logs[this.logs.length-1];return this.term.isFocus&&t&&t.length&&t.input.type===F}},{key:"renderEditable",get:function(){var t=this.logs[this.logs.length-1],e=this.renderLogs[this.renderLogs.length-1];return t===e&&this.term.isFocus&&e&&e.length&&e.input.type===F}},{key:"cursorPos",get:function(){if(this.renderEditable){var t=this.term.options.pixelRatio,e=this.renderLogs[this.renderLogs.length-1],n=e[e.length-1];return{left:n.left+n.width+4*t,top:this.padding[0]+(this.fontSize+this.gap)*(this.renderLogs.length-1)}}return{left:0,top:0}}}]),u}();function H(t){return"number"==typeof t||(/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t))}var N=function(){function i(t){var e=this;w(this,i);var n=(this.term=t).drawer,r=t.options.welcome;this.input=this.input.bind(this),this.output=this.output.bind(this),this.clear=this.clear.bind(this),this.output(r).input(""),t.on("input",function(t){n.editable&&e.input(t,!0)}),t.on("enter",function(t){n.editable&&e.execute(t)})}return o(i,[{key:"execute",value:function(t){var r=this;if(!t.trim())return this.input("");var e=this.term.options,n=e.parseOpt,i=e.notFound,o=e.loading,s=this.findAction(t),a=A(t.split(" "),n);if(!s){var c=i.call(this.term,t,a);return this.output(c).input("")}if("function"!=typeof s.output)return this.output(s.output).input("");try{var u=s.output.call(this.term,t,a);if("promise"!==L.kindOf(u))return void 0!==u?this.output(u).input(""):this;var h=o.call(this.term,t,a);return this.output(h),u.then(function(t){return void 0!==t?r.output(t,!0).input(""):r}).catch(function(t){var e="error"===L.kindOf(t)?"".concat(String(t)):"Error: ".concat(String(t)),n='<d color="red">'.concat(e,"</d>");return r.output(n,!0).input("")})}catch(t){var l='<d color="red">'.concat(String(t),"</d>");return this.output(l).input("")}}},{key:"findAction",value:function(n){return n=n.trim().toLowerCase(),this.term.options.actions.find(function(t){var e=L.kindOf(t.input);return"string"===e?n===t.input:"regexp"===e?t.input.test(n):null})}},{key:"output",value:function(t,e){var n=1<arguments.length&&void 0!==e&&e;return this.term.drawer.draw({type:B,replace:n,text:String(t)}),this}},{key:"input",value:function(t,e){var n=1<arguments.length&&void 0!==e&&e;return this.term.drawer.draw({type:F,replace:n,text:String(t)}),this}},{key:"clear",value:function(){return this.term.drawer.logs=[],this.term.drawer.draw(),this}}]),i}(),q=function(){function e(t){w(this,e),this.term=t,this.blobs=[]}return o(e,[{key:"start",value:function(){var e=this;k(!this.recording,"The recorder is recording...");var t=this.term.template.$canvas;this.stream=t.captureStream(30),k(this.stream,"Cannot get MediaStream of canvas"),k(MediaRecorder&&MediaRecorder.isTypeSupported(U.mimeType),"Does not support recording webm video"),this.recorder=new MediaRecorder(this.stream,U),this.recorder.ondataavailable=function(t){e.recording&&t.data&&0<t.data.size&&(e.blobs.push(t.data),e.term.emit("recording",{size:e.size,duration:e.duration}))},this.recorder.onstart=function(){e.term.emit("start")},this.recorder.start(1e3)}},{key:"end",value:function(){this.recorder.stop();var t=URL.createObjectURL(new Blob(this.blobs));P(t,"".concat(Date.now(),".webm")),URL.revokeObjectURL(t),this.blobs=[],this.term.emit("end")}},{key:"recording",get:function(){return this.recorder&&"recording"===this.recorder.state}},{key:"size",get:function(){return this.blobs.reduce(function(t,e){return t+e.size},0)}},{key:"duration",get:function(){return this.blobs.length}}]),e}();function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X(r){return function(){var t,e=c(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return a(this,t)}}var J=0,Y=[];return function(){e(r,h);var n=X(r);function r(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return w(this,r),(t=n.call(this)).options=L(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r.default,{},e),r.scheme),t.isFocus=!1,t.template=new $(i(t)),t.events=new g(i(t)),t.decoder=new I(i(t)),t.drawer=new W(i(t)),t.commander=new N(i(t)),t.recorder=new q(i(t)),t.input=t.commander.input,t.output=t.commander.output,t.clear=t.commander.clear,t.start=t.recorder.start,t.end=t.recorder.end,J+=1,t.id=J,Y.push(i(t)),t}return o(r,null,[{key:"instances",get:function(){return Y}},{key:"version",get:function(){return"1.0.4"}},{key:"utils",get:function(){return O}},{key:"default",get:function(){return{container:"#term",width:600,height:500,actions:[],parseOpt:{},recorder:!0,draggable:!0,dragOpt:{},borderRadius:5,fontSize:13,fontFamily:"Arial",fontColor:"#b0b2b6",title:"Term Web",prefix:'root@linux: ~ <d color="#00f501">$</d> ',welcome:"Last login: ".concat(new Date),loading:function(){return'<d color="yellow">Loading...</d>'},boxShadow:"rgba(0, 0, 0, 0.55) 0px 20px 68px",backgroundColor:"rgb(42, 39, 52)",pixelRatio:window.devicePixelRatio,notFound:function(t){return"-bash: <d color='red'>".concat(t,"</d>: command not found")}}}},{key:"scheme",get:function(){return{container:"string|htmldivelement",width:"number",height:"number",actions:[{input:"string|regexp",output:"string|function"}],parseOpt:"object",recorder:"boolean",draggable:"boolean",dragOpt:"object",borderRadius:"number",fontSize:"number",fontFamily:"string",fontColor:"string",title:"string",prefix:"string",welcome:"string",loading:"function",boxShadow:"string",backgroundColor:"string",pixelRatio:"number",notFound:"function"}}}]),o(r,[{key:"destroy",value:function(){Y.splice(Y.indexOf(this),1),this.events.destroy(),this.template.destroy(),this.emit("destroy")}}]),r}()});
