{"version":3,"file":"term-ui.js","sources":["../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/defineProperty.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/classCallCheck.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/assertThisInitialized.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/createClass.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/typeof.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/possibleConstructorReturn.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/getPrototypeOf.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/setPrototypeOf.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/inherits.js","../../node_modules/_option-validator@2.0.5@option-validator/dist/option-validator.js","../../src/emitter.js","../../src/events.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/isNativeFunction.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/isNativeReflectConstruct.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/construct.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/wrapNativeSuper.js","../../src/utils.js","../../src/template.js","../../src/translate.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/arrayLikeToArray.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/arrayWithoutHoles.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/iterableToArray.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/unsupportedIterableToArray.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/nonIterableSpread.js","../../node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/toConsumableArray.js","../../src/constant.js","../../src/drawer.js","../../src/index.js"],"sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.optionValidator=t()}(this,function(){\"use strict\";function e(r){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&\"function\"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r})(r)}var n=Object.prototype.toString,c=function(r){if(void 0===r)return\"undefined\";if(null===r)return\"null\";var t=e(r);if(\"boolean\"===t)return\"boolean\";if(\"string\"===t)return\"string\";if(\"number\"===t)return\"number\";if(\"symbol\"===t)return\"symbol\";if(\"function\"===t)return function(r){return\"GeneratorFunction\"===o(r)}(r)?\"generatorfunction\":\"function\";if(function(r){return Array.isArray?Array.isArray(r):r instanceof Array}(r))return\"array\";if(function(r){if(r.constructor&&\"function\"==typeof r.constructor.isBuffer)return r.constructor.isBuffer(r);return!1}(r))return\"buffer\";if(function(r){try{if(\"number\"==typeof r.length&&\"function\"==typeof r.callee)return!0}catch(r){if(-1!==r.message.indexOf(\"callee\"))return!0}return!1}(r))return\"arguments\";if(function(r){return r instanceof Date||\"function\"==typeof r.toDateString&&\"function\"==typeof r.getDate&&\"function\"==typeof r.setDate}(r))return\"date\";if(function(r){return r instanceof Error||\"string\"==typeof r.message&&r.constructor&&\"number\"==typeof r.constructor.stackTraceLimit}(r))return\"error\";if(function(r){return r instanceof RegExp||\"string\"==typeof r.flags&&\"boolean\"==typeof r.ignoreCase&&\"boolean\"==typeof r.multiline&&\"boolean\"==typeof r.global}(r))return\"regexp\";switch(o(r)){case\"Symbol\":return\"symbol\";case\"Promise\":return\"promise\";case\"WeakMap\":return\"weakmap\";case\"WeakSet\":return\"weakset\";case\"Map\":return\"map\";case\"Set\":return\"set\";case\"Int8Array\":return\"int8array\";case\"Uint8Array\":return\"uint8array\";case\"Uint8ClampedArray\":return\"uint8clampedarray\";case\"Int16Array\":return\"int16array\";case\"Uint16Array\":return\"uint16array\";case\"Int32Array\":return\"int32array\";case\"Uint32Array\":return\"uint32array\";case\"Float32Array\":return\"float32array\";case\"Float64Array\":return\"float64array\"}if(function(r){return\"function\"==typeof r.throw&&\"function\"==typeof r.return&&\"function\"==typeof r.next}(r))return\"generator\";switch(t=n.call(r)){case\"[object Object]\":return\"object\";case\"[object Map Iterator]\":return\"mapiterator\";case\"[object Set Iterator]\":return\"setiterator\";case\"[object String Iterator]\":return\"stringiterator\";case\"[object Array Iterator]\":return\"arrayiterator\"}return t.slice(8,-1).toLowerCase().replace(/\\s/g,\"\")};function o(r){return r.constructor?r.constructor.name:null}function f(r,t){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[\"option\"];return s(r,t,e),y(r,t,e),function(a,i,u){var r=c(i),t=c(a);if(\"object\"===r){if(\"object\"!==t)throw new Error(\"[Type Error]: '\".concat(u.join(\".\"),\"' require 'object' type, but got '\").concat(t,\"'\"));Object.keys(i).forEach(function(r){var t=a[r],e=i[r],n=u.slice();n.push(r),s(t,e,n),y(t,e,n),f(t,e,n)})}if(\"array\"===r){if(\"array\"!==t)throw new Error(\"[Type Error]: '\".concat(u.join(\".\"),\"' require 'array' type, but got '\").concat(t,\"'\"));a.forEach(function(r,t){var e=a[t],n=i[t]||i[0],o=u.slice();o.push(t),s(e,n,o),y(e,n,o),f(e,n,o)})}}(r,t,e),r}function s(r,t,e){if(\"string\"===c(t)){var n=c(r);if(!(-1<t.indexOf(\"|\")?t.split(\"|\").map(function(r){return r.toLowerCase().trim()}).filter(Boolean).some(function(r){return n===r}):t.toLowerCase().trim()===n))throw new Error(\"[Type Error]: '\".concat(e.join(\".\"),\"' require '\").concat(t,\"' type, but got '\").concat(n,\"'\"))}}function y(r,t,e){if(\"function\"===c(t)){var n=t(r,c(r),e);if(!0!==n){var o=c(n);throw\"string\"===o?new Error(n):\"error\"===o?n:new Error(\"[Validator Error]: The scheme for '\".concat(e.join(\".\"),\"' validator require return true, but got '\").concat(n,\"'\"))}}}return f.kindOf=c,f});\n","export default class Emitter {\n    on(name, fn, ctx) {\n        const e = this.e || (this.e = {});\n        (e[name] || (e[name] = [])).push({ fn, ctx });\n        return this;\n    }\n\n    once(name, fn, ctx) {\n        const self = this;\n        function listener(...args) {\n            self.off(name, listener);\n            fn.apply(ctx, args);\n        }\n        listener._ = fn;\n        return this.on(name, listener, ctx);\n    }\n\n    emit(name, ...data) {\n        const evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n        for (let i = 0; i < evtArr.length; i += 1) {\n            evtArr[i].fn.apply(evtArr[i].ctx, data);\n        }\n        return this;\n    }\n\n    off(name, callback) {\n        const e = this.e || (this.e = {});\n        const evts = e[name];\n        const liveEvents = [];\n        if (evts && callback) {\n            for (let i = 0, len = evts.length; i < len; i += 1) {\n                if (evts[i].fn !== callback && evts[i].fn._ !== callback) liveEvents.push(evts[i]);\n            }\n        }\n        if (liveEvents.length) {\n            e[name] = liveEvents;\n        } else {\n            delete e[name];\n        }\n        return this;\n    }\n}\n","export default class Events {\n    constructor() {\n        this.destroyEvents = [];\n        this.proxy = this.proxy.bind(this);\n    }\n\n    proxy(target, name, callback, option = {}) {\n        if (Array.isArray(name)) {\n            name.forEach(item => this.proxy(target, item, callback, option));\n        } else {\n            target.addEventListener(name, callback, option);\n            this.destroyEvents.push(() => {\n                target.removeEventListener(name, callback, option);\n            });\n        }\n    }\n\n    destroy() {\n        this.destroyEvents.forEach(event => event());\n    }\n}\n","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","export class TermError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'TermError';\n    }\n}\n\nexport function errorHandle(condition, msg) {\n    if (!condition) {\n        throw new TermError(msg);\n    }\n    return condition;\n}\n\nexport function clamp(num, a, b) {\n    return Math.max(Math.min(num, Math.max(a, b)), Math.min(a, b));\n}\n","import { errorHandle } from './utils';\n\nexport default class Template {\n    constructor(term) {\n        this.term = term;\n\n        this.$container = term.options.container;\n        errorHandle(\n            term.constructor.instances.every(ins => ins.options.container !== this.$container),\n            'Cannot mount multiple instances on the same dom element, please destroy the previous instance first.',\n        );\n\n        this.$canvas = document.createElement('canvas');\n        this.$canvas.classList.add('term-canvas');\n        this.$container.appendChild(this.$canvas);\n\n        if (!document.getElementById('term-ui-style')) {\n            this.$style = document.createElement('style');\n            this.$style.id = 'term-ui-style';\n            this.$style.textContent = '.term-canvas:hover{cursor: text}';\n            document.head.appendChild(this.$style);\n        }\n\n        this.update();\n    }\n\n    update() {\n        const { width, height, pixelRatio, borderRadius, boxShadow } = this.term.options;\n        this.$canvas.style.width = `${width}px`;\n        this.$canvas.style.height = `${height}px`;\n        this.$canvas.width = width * pixelRatio;\n        this.$canvas.height = height * pixelRatio;\n        this.$canvas.style.borderRadius = `${borderRadius}px`;\n        this.$canvas.style.boxShadow = boxShadow;\n    }\n\n    destroy() {\n        if (this.$style) {\n            document.head.removeChild(this.$style);\n        }\n        this.$container.innerHTML = '';\n    }\n}\n","export default class Translate {\n    constructor(term) {\n        this.term = term;\n    }\n}\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","export const INPUT = 'input';\nexport const OUTPUT = 'output';\n\nexport const NORMAL = 'normal';\nexport const CHECKBOX = 'checkbox';\nexport const RADIO = 'radio';\n","import { INPUT } from './constant';\n\nexport default class Drawer {\n    constructor(term) {\n        this.term = term;\n        const { pixelRatio } = term.options;\n        this.gap = 15 * pixelRatio;\n        this.fontSize = 14 * pixelRatio;\n        this.padding = [45, 15, 15, 15].map(item => item * pixelRatio);\n        this.btnColor = ['#FF5F56', '#FFBD2E', '#27C93F'];\n        this.btnSize = 6 * pixelRatio;\n        this.$canvas = term.template.$canvas;\n        this.ctx = this.$canvas.getContext('2d');\n        this.ctx.font = `${this.fontSize}px Arial`;\n        this.ctx.textBaseline = 'top';\n\n        this.logs = [];\n\n        this.update();\n\n        this.cursorOn = false;\n        (function loop() {\n            this.timer = setTimeout(() => {\n                this.cursorOn = !this.cursorOn;\n                this.drawCursor();\n                loop.call(this);\n            }, 1000);\n        }.call(this));\n    }\n\n    get lastLog() {\n        return this.logs[this.logs.length - 1];\n    }\n\n    get lastLine() {\n        return this.lastLog.lines[this.lastLog.lines.length - 1];\n    }\n\n    get lastLinePos() {\n        const { pixelRatio } = this.term.options;\n        return {\n            left: this.ctx.measureText(this.lastLine).width + this.padding[3] + pixelRatio * 5,\n            top: this.padding[0] + (this.fontSize + this.gap) * (this.lineEndIndex - 1),\n        };\n    }\n\n    update(data) {\n        this.lineStartIndex = 0;\n        this.lineEndIndex = 0;\n        const { width, height } = this.$canvas;\n        this.height = height - this.padding[0] - this.padding[2];\n        this.width = width - this.padding[1] - this.padding[3];\n        this.totalLine = Math.floor(this.height / (this.fontSize + this.gap));\n        this.drawBackground();\n        this.drawTopbar();\n        this.drawContent(data);\n    }\n\n    drawBackground() {\n        const { backgroundColor } = this.term.options;\n        const { width, height } = this.$canvas;\n        this.ctx.clearRect(0, 0, width, height);\n        this.ctx.fillStyle = backgroundColor;\n        this.ctx.fillRect(0, 0, width, height);\n    }\n\n    drawTopbar() {\n        const { title, fontColor } = this.term.options;\n        this.ctx.fillStyle = fontColor;\n        const { width } = this.ctx.measureText(title);\n        this.ctx.fillText(title, this.$canvas.width / 2 - width / 2, this.padding[1] - this.btnSize / 2);\n        this.btnColor.forEach((item, index) => {\n            this.ctx.beginPath();\n            this.ctx.arc(\n                this.padding[3] + this.btnSize + index * this.btnSize * 3.6,\n                this.padding[1] + this.btnSize,\n                this.btnSize,\n                0,\n                360,\n                false,\n            );\n            this.ctx.fillStyle = item;\n            this.ctx.fill();\n            this.ctx.closePath();\n        });\n    }\n\n    drawContent(data) {\n        const { backgroundColor, fontColor } = this.term.options;\n        this.ctx.fillStyle = backgroundColor;\n        this.ctx.fillRect(this.padding[3], this.padding[0], this.width, this.height);\n        this.ctx.fillStyle = fontColor;\n\n        if (data) {\n            this.logs.push(this.getLogNormal(data));\n        }\n\n        let lineIndex = 0;\n        for (let j = 0; j < this.logs.length; j += 1) {\n            for (let k = 0; k < this.logs[j].lines.length; k += 1) {\n                lineIndex += 1;\n                if (this.lineStartIndex < lineIndex && this.lineStartIndex + this.totalLine > lineIndex) {\n                    const text = this.logs[j].lines[k];\n                    const top = this.padding[0] + (this.fontSize + this.gap) * (lineIndex - 1);\n                    this.ctx.fillText(text, this.padding[3], top);\n                    this.lineEndIndex += 1;\n                }\n            }\n        }\n    }\n\n    drawCursor() {\n        const { pixelRatio, backgroundColor } = this.term.options;\n        if (this.lastLog && this.lastLog.type === INPUT && this.lastLine) {\n            this.ctx.fillStyle = this.cursorOn ? '#fff' : backgroundColor;\n            const { left, top } = this.lastLinePos;\n            this.ctx.fillRect(left, top, pixelRatio * 2, this.fontSize);\n        }\n    }\n\n    drawText() {\n        //\n    }\n\n    getLogNormal(data) {\n        const { prefix } = this.term.options;\n        let temp = [data.type === INPUT ? prefix : ''];\n\n        if (!data.text) {\n            return {\n                ...data,\n                lines: temp,\n            };\n        }\n\n        const chr = data.text\n            .split(/\\r?\\n/)\n            .map(item => item.trim())\n            .join(' ')\n            .split(' ');\n\n        const lines = [];\n        for (let i = 0; i < chr.length; i += 1) {\n            const text = [...temp, chr[i]].join(' ');\n            if (this.ctx.measureText(text).width > this.width) {\n                lines.push(temp.join(' '));\n                temp.length = 0;\n            } else {\n                temp = text.split(' ');\n            }\n        }\n        lines.push(temp.join(' '));\n        return {\n            ...data,\n            lines: lines.filter(Boolean).map(item => item.trim()),\n        };\n    }\n\n    getLogCheckbox(data) {\n        //\n    }\n\n    getLogRadio(data) {\n        //\n    }\n\n    updateLastLog(log) {\n        //\n    }\n\n    destroy() {\n        clearTimeout(this.timer);\n    }\n}\n","import validator from 'option-validator';\nimport Emitter from './emitter';\nimport Events from './events';\nimport Template from './template';\nimport Translate from './translate';\nimport Drawer from './drawer';\nimport { errorHandle } from './utils';\nimport { INPUT, OUTPUT, NORMAL, CHECKBOX, RADIO } from './constant';\n\nlet id = 0;\nconst instances = [];\nexport default class Term extends Emitter {\n    static get instances() {\n        return instances;\n    }\n\n    static get INPUT() {\n        return INPUT;\n    }\n\n    static get OUTPUT() {\n        return OUTPUT;\n    }\n\n    static get NORMAL() {\n        return NORMAL;\n    }\n\n    static get CHECKBOX() {\n        return CHECKBOX;\n    }\n\n    static get RADIO() {\n        return RADIO;\n    }\n\n    static get version() {\n        return '__VERSION__';\n    }\n\n    static get env() {\n        return '__ENV__';\n    }\n\n    static get default() {\n        return {\n            container: '#term',\n            title: 'Term UI',\n            prefix: 'root@linux: ~ $',\n            width: 600,\n            height: 500,\n            borderRadius: 5,\n            font: 'Arial',\n            fontColor: '#b0b2b6',\n            welcome: 'Welcome to use the Term UI',\n            boxShadow: 'rgba(0, 0, 0, 0.55) 0px 20px 68px',\n            backgroundColor: 'rgb(42, 39, 52)',\n            pixelRatio: window.devicePixelRatio,\n        };\n    }\n\n    static get scheme() {\n        return {\n            container: 'string|htmldivelement',\n            title: 'string',\n            prefix: 'string',\n            width: 'number',\n            height: 'number',\n            borderRadius: 'number',\n            font: 'string',\n            welcome: 'string',\n            boxShadow: 'string',\n            backgroundColor: 'string',\n            pixelRatio: 'number',\n        };\n    }\n\n    constructor(options = {}) {\n        super();\n        this.options = {};\n        this.setOptions(options);\n        this.events = new Events(this);\n        this.template = new Template(this);\n        this.translate = new Translate(this);\n        this.drawer = new Drawer(this);\n\n        id += 1;\n        this.id = id;\n        instances.push(this);\n\n        this.input({\n            type: OUTPUT,\n            text: this.options.welcome,\n        }).input({\n            type: INPUT,\n        });\n    }\n\n    setOptions(options = {}) {\n        errorHandle(validator.kindOf(options) === 'object', 'setOptions expects to receive object as a parameter');\n\n        if (typeof options.container === 'string') {\n            options.container = document.querySelector(options.container);\n        }\n\n        this.options = validator(\n            {\n                ...Term.default,\n                ...this.options,\n                ...options,\n            },\n            Term.scheme,\n        );\n\n        return this;\n    }\n\n    input(data = {}) {\n        if (data.type === INPUT) {\n            if (data.text) {\n                errorHandle(typeof data.text === 'string', `When the type is ${INPUT}, text must be a string`);\n            }\n        } else if (data.type === OUTPUT) {\n            if (data.text) {\n                if (data.style === NORMAL) {\n                    errorHandle(\n                        typeof data.text === 'string',\n                        `When the type is ${OUTPUT} and the style is ${NORMAL}, text must be a string`,\n                    );\n                }\n                if (data.style === CHECKBOX) {\n                    errorHandle(\n                        Array.isArray(data.text),\n                        `When the type is ${OUTPUT} and the style is ${CHECKBOX}, text must be an array`,\n                    );\n                }\n                if (data.style === RADIO) {\n                    errorHandle(\n                        Array.isArray(data.text),\n                        `When the type is ${OUTPUT} and the style is ${RADIO}, text must be an array`,\n                    );\n                }\n            } else {\n                errorHandle(false, `When the type is ${OUTPUT}, the text cannot be empty`);\n            }\n        } else {\n            errorHandle(false, `The type of the parameter on the input method must be ${INPUT} or ${OUTPUT}`);\n        }\n        this.drawer.update(data);\n        return this;\n    }\n\n    exportPng() {\n        return this;\n    }\n\n    exportGif() {\n        return this;\n    }\n\n    exportVideo() {\n        return this;\n    }\n\n    destroy() {\n        this.isDestroy = true;\n        this.events.destroy();\n        this.template.destroy();\n        instances.splice(instances.indexOf(this), 1);\n    }\n}\n"],"names":["_typeof","this","Emitter","name","fn","ctx","e","push","self","listener","off","args","apply","_","on","evtArr","slice","data","i","length","callback","evts","liveEvents","len","Events","destroyEvents","proxy","bind","target","option","Array","isArray","forEach","item","addEventListener","removeEventListener","event","TermError","message","Error","errorHandle","condition","msg","Template","term","$container","options","container","constructor","instances","every","ins","$canvas","document","createElement","classList","add","appendChild","getElementById","$style","id","textContent","head","update","width","height","pixelRatio","borderRadius","boxShadow","style","removeChild","innerHTML","Translate","INPUT","OUTPUT","NORMAL","CHECKBOX","RADIO","Drawer","gap","fontSize","padding","map","btnColor","btnSize","template","getContext","font","textBaseline","logs","cursorOn","loop","timer","setTimeout","drawCursor","call","lineStartIndex","lineEndIndex","totalLine","Math","floor","drawBackground","drawTopbar","drawContent","backgroundColor","clearRect","fillStyle","fillRect","title","fontColor","measureText","fillText","index","beginPath","arc","fill","closePath","getLogNormal","lineIndex","j","k","lines","text","top","lastLog","type","lastLine","lastLinePos","left","prefix","temp","chr","split","trim","join","filter","Boolean","log","clearTimeout","Term","welcome","window","devicePixelRatio","setOptions","events","translate","drawer","input","validator","kindOf","querySelector","default","scheme","isDestroy","destroy","splice","indexOf"],"mappings":"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"}